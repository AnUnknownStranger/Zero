<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/upload_profile.css') }}">
    <title>Upload Profile Picture</title>
    <link rel="icon" href="{{ url_for('static', filename='images/logo.png') }}">
</head>
<body>

    <div class="container">
        <h1>Upload Your Profile Picture</h1>

        <form action="/uploadProfilePic" method="post" enctype="multipart/form-data">
            <label for="profilePic">Choose a profile picture:</label>
            <input type="file" id="profilePic" name="profilePic" accept="image/*">
            <br>
            <button type="submit" class="button-style">Upload</button>
        </form>
    </div>

</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
    <!-- <link rel="stylesheet" href="{{ url_for('static', filename='styles/style.css') }}"> -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/upload_profile.css') }}">
    <title>User Profile</title>
    <link rel="icon" href="{{ url_for('static', filename='images/logo.png') }}">
    
</head>
<body>

    <img src="/static/images/logo.png" alt="Blog Image" id="GoBlog">
    
    <div class="navbar">
        <div class="navbar">
            <form action="/blogPage" method="get" enctype="application/x-www-form-urlencoded">
                <button type="submit" class="blog-button">Blog</button>
            </form>
            
        </div>
    </div>

    <div class="container">
        <h1>User Profile</h1>

        <div class="profile-picture-container">
            <div class="profile-picture" id="profile-picture"></div> <!-- Profile picture circle -->
            <form action="/uploadProfilePic" method="post" enctype="multipart/form-data" class="upload-form">
                <label for="profilePic">Choose a profile picture:</label>
                <input type="file" id="profilePic" name="profilePic" accept="image/*" onchange="previewProfilePicture(event)">
                <button type="submit" class="button-style">Upload Profile-Picture</button>
            </form>

            <form action="/updateUsername" method="post" class="update-username-form">
                <label for="newUsername">Update Username:</label>
                <input type="text" id="newUsername" name="newUsername" placeholder="Enter new username">
                <button type="submit" class="button-style">Update Username</button>
            </form>
        </div>

        
    </div>

    <script>
        function previewProfilePicture(event) {
            const profilePicture = document.getElementById('profile-picture');
            const file = event.target.files[0];
            const reader = new FileReader();

            reader.onloadend = function () {
                profilePicture.style.backgroundImage = `url(${reader.result})`;
            }

            if (file) {
                reader.readAsDataURL(file);
            } else {
                profilePicture.style.backgroundImage = 'none';
            }
        }
    </script>

</body>
</html>
